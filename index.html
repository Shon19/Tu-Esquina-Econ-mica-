<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tu Esquina Econ√≥mica - Abarrotes Online</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        /* Header */
        .header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            padding: 20px 0;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        }
        
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        .logo {
            font-size: 24px;
            font-weight: bold;
            color: #667eea;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
        }
        
        .search-bar {
            flex: 1;
            max-width: 400px;
            margin: 0 30px;
            position: relative;
        }
        
        .search-bar input {
            width: 100%;
            padding: 12px 45px 12px 20px;
            border: 2px solid #ddd;
            border-radius: 25px;
            font-size: 16px;
            outline: none;
            transition: all 0.3s ease;
        }
        
        .search-bar input:focus {
            border-color: #667eea;
            box-shadow: 0 0 10px rgba(102, 126, 234, 0.3);
        }
        
        .search-btn {
            position: absolute;
            right: 10px;
            top: 50%;
            transform: translateY(-50%);
            background: #667eea;
            color: white;
            border: none;
            padding: 8px 12px;
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .search-btn:hover {
            background: #5a67d8;
            transform: translateY(-50%) scale(1.1);
        }
        
        .cart-section {
            display: flex;
            align-items: center;
            gap: 20px;
        }
        
        .cart-btn {
            background: #667eea;
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s ease;
            position: relative;
        }
        
        .cart-btn:hover {
            background: #5a67d8;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }
        
        .cart-count {
            background: #ff4757;
            color: white;
            border-radius: 50%;
            padding: 4px 8px;
            font-size: 12px;
            position: absolute;
            top: -5px;
            right: -5px;
            min-width: 20px;
            text-align: center;
        }
        
        /* Navigation */
        .nav {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            padding: 15px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .nav-content {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 20px;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        .nav-item {
            padding: 10px 20px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 14px;
        }
        
        .nav-item:hover, .nav-item.active {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }
        
        /* Main Content */
        .main-content {
            margin-top: 30px;
        }
        
        /* Hero Banner */
        .hero {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.9), rgba(255, 255, 255, 0.7));
            backdrop-filter: blur(10px);
            padding: 40px;
            border-radius: 20px;
            margin-bottom: 30px;
            text-align: center;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }
        
        .hero h1 {
            font-size: 32px;
            color: #667eea;
            margin-bottom: 10px;
        }
        
        .hero p {
            font-size: 18px;
            color: #666;
            margin-bottom: 20px;
        }
        
        .promo-banner {
            background: linear-gradient(135deg, #ff6b6b, #ee5a24);
            color: white;
            padding: 15px;
            border-radius: 10px;
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 20px;
            text-align: center;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.02); }
            100% { transform: scale(1); }
        }
        
        /* Categories Grid */
        .categories-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }
        
        .category-card {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }
        
        .category-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
            border-color: #667eea;
        }
        
        .category-icon {
            font-size: 40px;
            margin-bottom: 10px;
        }
        
        .category-name {
            font-size: 14px;
            font-weight: bold;
            color: #333;
        }
        
        /* Products Grid */
        .products-section {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            padding: 30px;
            border-radius: 20px;
            margin-bottom: 30px;
        }
        
        .section-title {
            font-size: 24px;
            color: #667eea;
            margin-bottom: 20px;
            text-align: center;
        }
        
        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
        }
        
        .product-card {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }
        
        .product-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
            border-color: #667eea;
        }
        
        .product-image {
            width: 100%;
            height: 180px;
            object-fit: cover;
            border-radius: 10px;
            margin-bottom: 15px;
            transition: transform 0.3s ease;
        }
        
        .product-image:hover {
            transform: scale(1.05);
        }
        
        .product-name {
            font-size: 16px;
            font-weight: bold;
            color: #333;
            margin-bottom: 5px;
        }
        
        .product-unit {
            font-size: 14px;
            color: #666;
            margin-bottom: 10px;
        }
        
        .product-price {
            font-size: 20px;
            font-weight: bold;
            color: #667eea;
            margin-bottom: 15px;
        }
        
        .product-price::before {
            content: '$';
        }
        
        .add-to-cart {
            width: 100%;
            padding: 12px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s ease;
        }
        
        .add-to-cart:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }
        
        /* Cart Modal */
        .cart-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            backdrop-filter: blur(5px);
        }
        
        .cart-content {
            background: white;
            width: 90%;
            max-width: 500px;
            margin: 50px auto;
            border-radius: 20px;
            padding: 30px;
            max-height: 80vh;
            overflow-y: auto;
        }
        
        .cart-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .cart-title {
            font-size: 24px;
            color: #667eea;
        }
        
        .close-cart {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: #999;
        }
        
        .cart-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
            border-bottom: 1px solid #eee;
        }
        
        .cart-item-info {
            flex: 1;
        }
        
        .cart-item-name {
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .cart-item-controls {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .quantity-btn {
            background: #667eea;
            color: white;
            border: none;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 16px;
        }
        
        .quantity {
            font-weight: bold;
            min-width: 30px;
            text-align: center;
        }
        
        .cart-total {
            font-size: 20px;
            font-weight: bold;
            color: #667eea;
            text-align: center;
            margin: 20px 0;
        }
        
        .checkout-btn {
            width: 100%;
            padding: 15px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            border-radius: 25px;
            font-size: 18px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .checkout-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }
        
        /* WhatsApp Button */
        .whatsapp-float {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: #25d366;
            color: white;
            border-radius: 50%;
            padding: 15px;
            font-size: 24px;
            cursor: pointer;
            z-index: 1000;
            transition: all 0.3s ease;
            animation: bounce 2s infinite;
            border: none;
            width: 60px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-10px); }
            60% { transform: translateY(-5px); }
        }
        
        .whatsapp-float:hover {
            transform: scale(1.1);
            box-shadow: 0 5px 15px rgba(37, 211, 102, 0.4);
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                gap: 15px;
            }
            
            .search-bar {
                max-width: 100%;
                margin: 0;
            }
            
            .nav-content {
                gap: 10px;
            }
            
            .nav-item {
                padding: 8px 15px;
                font-size: 12px;
            }
            
            .hero h1 {
                font-size: 24px;
            }
            
            .products-grid {
                grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            }
        }
        
        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <div class="header">
        <div class="header-content">
            <div class="logo">üõí Tu Esquina Econ√≥mica</div>
            <div class="search-bar">
                <input type="text" placeholder="Buscar productos..." id="searchInput">
                <button class="search-btn" onclick="searchProducts()">üîç</button>
            </div>
            <div class="cart-section">
                <button class="cart-btn" onclick="openCart()">
                    üõí Carrito
                    <span class="cart-count" id="cartCount">0</span>
                </button>
            </div>
        </div>
    </div>

    <!-- Navigation -->
    <div class="nav">
        <div class="nav-content">
            <button class="nav-item active" onclick="showCategory('all', this)">üè† Inicio</button>
            <button class="nav-item" onclick="showCategory('abarrotes', this)">üåæ Abarrotes</button>
            <button class="nav-item" onclick="showCategory('lacteos', this)">ü•õ L√°cteos</button>
            <button class="nav-item" onclick="showCategory('panaderia', this)">ü•ñ Panader√≠a</button>
            <button class="nav-item" onclick="showCategory('carnes', this)">ü•ì Carnes Fr√≠as</button>
            <button class="nav-item" onclick="showCategory('limpieza', this)">üßΩ Limpieza</button>
            <button class="nav-item" onclick="showCategory('higiene', this)">üß¥ Higiene</button>
            <button class="nav-item" onclick="showCategory('bebidas', this)">ü•§ Bebidas</button>
            <button class="nav-item" onclick="showCategory('snacks', this)">üçø Snacks</button>
            <button class="nav-item" onclick="showCategory('promociones', this)">üí∞ Promociones</button>
            <button class="nav-item" onclick="showCategory('escolares', this)">üìö Escolares</button>
        </div>
    </div>

    <div class="container">
        <!-- Hero Section -->
        <div class="hero">
            <h1>¬°Bienvenido a Tu Esquina Econ√≥mica!</h1>
            <p>Los mejores productos de abarrotes con entrega a domicilio</p>
            <div class="promo-banner">
                üéâ ¬°Env√≠o GRATIS en compras mayores a $300! üéâ
            </div>
        </div>

        <!-- Categories Grid -->
        <div class="categories-grid" id="categoriesGrid">
            <div class="category-card" onclick="showCategory('abarrotes', null)">
                <div class="category-icon">üåæ</div>
                <div class="category-name">Abarrotes B√°sicos</div>
            </div>
            <div class="category-card" onclick="showCategory('lacteos', null)">
                <div class="category-icon">ü•õ</div>
                <div class="category-name">L√°cteos</div>
            </div>
            <div class="category-card" onclick="showCategory('panaderia', null)">
                <div class="category-icon">ü•ñ</div>
                <div class="category-name">Panader√≠a</div>
            </div>
            <div class="category-card" onclick="showCategory('carnes', null)">
                <div class="category-icon">ü•ì</div>
                <div class="category-name">Carnes Fr√≠as</div>
            </div>
            <div class="category-card" onclick="showCategory('limpieza', null)">
                <div class="category-icon">üßΩ</div>
                <div class="category-name">Limpieza</div>
            </div>
            <div class="category-card" onclick="showCategory('higiene', null)">
                <div class="category-icon">üß¥</div>
                <div class="category-name">Higiene</div>
            </div>
            <div class="category-card" onclick="showCategory('bebidas', null)">
                <div class="category-icon">ü•§</div>
                <div class="category-name">Bebidas</div>
            </div>
            <div class="category-card" onclick="showCategory('snacks', null)">
                <div class="category-icon">üçø</div>
                <div class="category-name">Snacks</div>
            </div>
            <div class="category-card" onclick="showCategory('promociones', null)">
                <div class="category-icon">üí∞</div>
                <div class="category-name">Promociones</div>
            </div>
            <div class="category-card" onclick="showCategory('escolares', null)">
                <div class="category-icon">üìö</div>
                <div class="category-name">Escolares</div>
            </div>
        </div>

        <!-- Products Section -->
        <div class="products-section">
            <h2 class="section-title" id="sectionTitle">Todos los Productos</h2>
            <div class="products-grid" id="productsGrid">
                <!-- Products will be loaded here -->
            </div>
        </div>
    </div>

    <!-- Cart Modal -->
    <div class="cart-modal" id="cartModal">
        <div class="cart-content">
            <div class="cart-header">
                <h3 class="cart-title">üõí Mi Carrito</h3>
                <button class="close-cart" onclick="closeCart()">‚úï</button>
            </div>
            <div id="cartItems">
                <!-- Cart items will be displayed here -->
            </div>
            <div class="cart-total" id="cartTotal">Total: $0</div>
            <button class="checkout-btn" onclick="checkout()">Finalizar Compra</button>
        </div>
    </div>

    <!-- WhatsApp Float Button -->
    <button class="whatsapp-float" onclick="orderWhatsApp()">
        üì±
    </button>

    <script>
        // Products data - Using placeholder images that work
        const products = {
            abarrotes: [
                { id: 1, name: "Arroz", unit: "1 kg", price: 26, image: "https://via.placeholder.com/300x200/4CAF50/white?text=Arroz" },
                { id: 2, name: "Frijol negro", unit: "1 kg", price: 35, image: "https://via.placeholder.com/300x200/8BC34A/white?text=Frijol" },
                { id: 3, name: "Sal refinada", unit: "1 kg", price: 10, image: "https://via.placeholder.com/300x200/FFC107/white?text=Sal" },
                { id: 4, name: "Az√∫car est√°ndar", unit: "1 kg", price: 28, image: "https://via.placeholder.com/300x200/FF9800/white?text=Azucar" },
                { id: 5, name: "Harina de ma√≠z", unit: "1 kg", price: 22, image: "https://via.placeholder.com/300x200/FFEB3B/black?text=Harina+Maiz" },
                { id: 6, name: "Harina de trigo", unit: "1 kg", price: 18, image: "https://via.placeholder.com/300x200/F5F5F5/black?text=Harina+Trigo" },
                { id: 7, name: "Pasta de codito", unit: "200 g", price: 11, image: "https://via.placeholder.com/300x200/FF8A65/white?text=Pasta+Codito" },
                { id: 8, name: "Fideos", unit: "200 g", price: 10, image: "https://via.placeholder.com/300x200/FFCC02/black?text=Fideos" },
                { id: 9, name: "Lentejas", unit: "500 g", price: 17, image: "https://via.placeholder.com/300x200/8BC34A/white?text=Lentejas" },
                { id: 10, name: "Sopa instant√°nea", unit: "1 pza", price: 12, image: "https://via.placeholder.com/300x200/FF7043/white?text=Sopa" },
                { id: 11, name: "Avena", unit: "400 g", price: 18, image: "https://via.placeholder.com/300x200/D7CCC8/black?text=Avena" },
                { id: 12, name: "Maicena", unit: "95 g", price: 10, image: "https://via.placeholder.com/300x200/FFF9C4/black?text=Maicena" },
                { id: 13, name: "Caldo de pollo en cubos", unit: "6 pzs", price: 14, image: "https://via.placeholder.com/300x200/FFB74D/black?text=Caldo+Pollo" },
                { id: 14, name: "Pur√© de tomate", unit: "210 g", price: 10, image: "https://via.placeholder.com/300x200/F44336/white?text=Pure+Tomate" },
                { id: 15, name: "Granos de elote", unit: "220 g", price: 13, image: "https://via.placeholder.com/300x200/FFEB3B/black?text=Elote" },
                { id: 16, name: "Ch√≠charos enlatados", unit: "220 g", price: 13, image: "https://via.placeholder.com/300x200/4CAF50/white?text=Chicharos" },
                { id: 17, name: "Crema de cacahuate", unit: "180 g", price: 26, image: "https://via.placeholder.com/300x200/8D6E63/white?text=Crema+Cacahuate" }
            ],
            lacteos: [
                { id: 18, name: "Leche entera", unit: "1 L", price: 26, image: "https://via.placeholder.com/300x200/2196F3/white?text=Leche" },
                { id: 19, name: "Leche deslactosada", unit: "1 L", price: 28, image: "https://via.placeholder.com/300x200/03A9F4/white?text=Leche+Deslactosada" },
                { id: 20, name: "Yogurt bebible", unit: "220 ml", price: 12, image: "https://via.placeholder.com/300x200/E91E63/white?text=Yogurt" },
                { id: 21, name: "Yogurt griego", unit: "150 g", price: 20, image: "https://via.placeholder.com/300x200/F8BBD9/black?text=Yogurt+Griego" },
                { id: 22, name: "Queso fresco", unit: "250 g", price: 40, image: "https://via.placeholder.com/300x200/FFF8E1/black?text=Queso+Fresco" },
                { id: 23, name: "Queso panela", unit: "250 g", price: 48, image: "https://via.placeholder.com/300x200/FFFDE7/black?text=Queso+Panela" },
                { id: 24, name: "Queso manchego", unit: "200 g", price: 55, image: "https://via.placeholder.com/300x200/FFF3E0/black?text=Queso+Manchego" },
                { id: 25, name: "Mantequilla", unit: "90 g", price: 28, image: "https://via.placeholder.com/300x200/FFEB3B/black?text=Mantequilla" },
                { id: 26, name: "Margarina", unit: "225 g", price: 18, image: "https://via.placeholder.com/300x200/FFC107/black?text=Margarina" },
                { id: 27, name: "Leche evaporada", unit: "378 ml", price: 21, image: "https://via.placeholder.com/300x200/81C784/white?text=Leche+Evaporada" },
                { id: 28, name: "Leche condensada", unit: "387 g", price: 25, image: "https://via.placeholder.com/300x200/FFB74D/black?text=Leche+Condensada" },
                { id: 29, name: "Crema √°cida", unit: "200 ml", price: 19, image: "https://via.placeholder.com/300x200/F5F5F5/black?text=Crema+Acida" },
                { id: 30, name: "Flan napolitano", unit: "2 pzs", price: 18, image: "https://via.placeholder.com/300x200/FFCC02/black?text=Flan" },
                { id: 31, name: "Danonino", unit: "4 pzs", price: 22, image: "https://via.placeholder.com/300x200/FF7043/white?text=Danonino" },
                { id: 32, name: "Gelatina (vasito)", unit: "1 pza", price: 10, image: "https://via.placeholder.com/300x200/E91E63/white?text=Gelatina" },
                { id: 33, name: "Postre de arroz", unit: "1 pza", price: 14, image: "https://via.placeholder.com/300x200/D7CCC8/black?text=Postre+Arroz" }
            ],
            panaderia: [
                { id: 34, name: "Pan blanco Bimbo", unit: "Paquete", price: 38, image: "https://via.placeholder.com/300x200/8D6E63/white?text=Pan+Blanco" },
                { id: 35, name: "Pan integral", unit: "Paquete", price: 42, image: "https://via.placeholder.com/300x200/5D4037/white?text=Pan+Integral" },
                { id: 36, name: "Pan tostado", unit: "Paquete", price: 30, image: "https://via.placeholder.com/300x200/A1887F/white?text=Pan+Tostado" },
                { id: 37, name: "Conchas", unit: "1 pieza", price: 7, image: "https://via.placeholder.com/300x200/FFCC02/black?text=Conchas" },
                { id: 38, name: "Bolillo", unit: "1 pieza", price: 3, image: "https://via.placeholder.com/300x200/D7CCC8/black?text=Bolillo" },
                { id: 39, name: "Cuernito", unit: "1 pieza", price: 8, image: "https://via.placeholder.com/300x200/FFB74D/black?text=Cuernito" },
                { id: 40, name: "Panqu√© marmoleado", unit: "1 pieza", price: 10, image: "https://via.placeholder.com/300x200/8D6E63/white?text=Panque" },
                { id: 41, name: "Roles con canela", unit: "1 pieza", price: 10, image: "https://via.placeholder.com/300x200/A1887F/white?text=Roles+Canela" },
                { id: 42, name: "Pan de caja chico", unit: "Paquete", price: 18, image: "https://via.placeholder.com/300x200/EFEBE9/black?text=Pan+Caja+Chico" },
                { id: 43, name: "Pan para hot dog", unit: "Paquete", price: 20, image: "https://via.placeholder.com/300x200/D7CCC8/black?text=Pan+Hot+Dog" },
                { id: 44, name: "Pan para hamburguesa", unit: "Paquete", price: 22, image: "https://via.placeholder.com/300x200/BCAAA4/white?text=Pan+Hamburguesa" },
                { id: 45, name: "Pan dulce surtido", unit: "4 pzas", price: 30, image: "https://via.placeholder.com/300x200/FF8A65/white?text=Pan+Dulce" },
                { id: 46, name: "Pan molido", unit: "250 g", price: 12, image: "https://via.placeholder.com/300x200/8D6E63/white?text=Pan+Molido" },
                { id: 47, name: "Tortillas de ma√≠z", unit: "1 kg", price: 22, image: "https://via.placeholder.com/300x200/FFEB3B/black?text=Tortillas+Maiz" },
                { id: 48, name: "Tortillas de harina", unit: "500 g", price: 28, image: "https://via.placeholder.com/300x200/F5F5F5/black?text=Tortillas+Harina" },
                { id: 49, name: "Tostadas horneadas", unit: "100 g", price: 18, image: "https://via.placeholder.com/300x200/FFB74D/black?text=Tostadas" }
            ],
            carnes: [
                { id: 50, name: "Jam√≥n de pavo", unit: "250 g", price: 32, image: "https://via.placeholder.com/300x200/F44336/white?text=Jamon+Pavo" },
                { id: 51, name: "Jam√≥n de pierna", unit: "250 g", price: 38, image: "https://via.placeholder.com/300x200/E91E63/white?text=Jamon+Pierna" },
                { id: 52, name: "Salchichas para hot dog", unit: "500 g", price: 35, image: "https://via.placeholder.com/300x200/FF5722/white?text=Salchichas" },
                { id: 53, name: "Chorizo", unit: "250 g", price: 30, image: "https://via.placeholder.com/300x200/D32F2F/white?text=Chorizo" },
                { id: 54, name: "Tocino", unit: "250 g", price: 42, image: "https://via.placeholder.com/300x200/FF7043/white?text=Tocino" },
                { id: 55, name: "Mortadela", unit: "250 g", price: 25, image: "https://via.placeholder.com/300x200/F48FB1/black?text=Mortadela" },
                { id: 56, name: "Longaniza", unit: "250 g", price: 33, image: "https://via.placeholder.com/300x200/FF8A65/white?text=Longaniza" },
                { id: 57, name: "Pechuga de pavo", unit: "250 g", price: 38, image: "https://via.placeholder.com/300x200/FFCDD2/black?text=Pechuga+Pavo" },
                { id: 58, name: "Salchicha botanera", unit: "250 g", price: 32, image: "https://via.placeholder.com/300x200/E57373/white?text=Salchicha+Botanera" },
                { id: 59, name: "Queso tipo americano", unit: "150 g", price: 28, image: "https://via.placeholder.com/300x200/FFE082/black?text=Queso+Americano" },
                { id: 60, name: "Pat√©", unit: "120 g", price: 22, image: "https://via.placeholder.com/300x200/8D6E63/white?text=Pate" },
                { id: 61, name: "Chistorra", unit: "250 g", price: 40, image: "https://via.placeholder.com/300x200/FF6F00/white?text=Chistorra" },
                { id: 62, name: "Salami", unit: "200 g", price: 35, image: "https://via.placeholder.com/300x200/A1887F/white?text=Salami" },
                { id: 63, name: "Cecina enchilada", unit: "250 g", price: 55, image: "https://via.placeholder.com/300x200/BF360C/white?text=Cecina" },
                { id: 64, name: "Jam√≥n serrano", unit: "100 g", price: 48, image: "https://via.placeholder.com/300x200/8D6E63/white?text=Jamon+Serrano" }
            ],
            limpieza: [
                { id: 65, name: "Cloro", unit: "1 L", price: 13, image: "https://via.placeholder.com/300x200/00BCD4/white?text=Cloro" },
                { id: 66, name: "Jab√≥n Zote", unit: "400 g", price: 12, image: "https://via.placeholder.com/300x200/4CAF50/white?text=Jabon+Zote" },
                { id: 67, name: "Detergente en polvo", unit: "1 kg", price: 38, image: "https://via.placeholder.com/300x200/2196F3/white?text=Detergente" },
                { id: 68, name: "Fabuloso", unit: "1 L", price: 28, image: "https://via.placeholder.com/300x200/9C27B0/white?text=Fabuloso" },
                { id: 69, name: "Suavizante de telas", unit: "850 ml", price: 34, image: "https://via.placeholder.com/300x200/E91E63/white?text=Suavizante" },
                { id: 70, name: "Limpiavidrios", unit: "650 ml", price: 25, image: "https://via.placeholder.com/300x200/03A9F4/white?text=Limpiavidrios" },
                { id: 71, name: "Esponja multiusos", unit: "3 pzas", price: 22, image: "https://via.placeholder.com/300x200/FFC107/black?text=Esponjas" },
                { id: 72, name: "Bolsas para basura", unit: "10 pzs", price: 25, image: "https://via.placeholder.com/300x200/424242/white?text=Bolsas+Basura" },
                { id: 73, name: "Jab√≥n para trastes l√≠quido", unit: "750 ml", price: 27, image: "https://via.placeholder.com/300x200/4CAF50/white?text=Jabon+Trastes" },
                { id: 74, name: "Pastillas para WC", unit: "2 pzas", price: 18, image: "https://via.placeholder.com/300x200/2196F3/white?text=Pastillas+WC" },
                { id: 75, name: "Limpiador en crema", unit: "500 g", price: 25, image: "https://via.placeholder.com/300x200/81C784/white?text=Limpiador+Crema" },
                { id: 76, name: "Desengrasante", unit: "1 L", price: 30, image: "https://via.placeholder.com/300x200/FF9800/white?text=Desengrasante" },
                { id: 77, name: "Aromatizante ambiental", unit: "360 ml", price: 32, image: "https://via.placeholder.com/300x200/9C27B0/white?text=Aromatizante" },
                { id: 78, name: "Trapeador", unit: "1 pza", price: 38, image: "https://via.placeholder.com/300x200/8D6E63/white?text=Trapeador" },
                { id: 79, name: "Escoba", unit: "1 pza", price: 40, image: "https://via.placeholder.com/300x200/A1887F/white?text=Escoba" }
            ],
            higiene: [
                { id: 80, name: "Papel higi√©nico", unit: "4 rollos", price: 32, image: "https://via.placeholder.com/300x200/9C27B0/white?text=Papel+Higienico" },
                { id: 81, name: "Shampoo", unit: "750 ml", price: 42, image: "https://via.placeholder.com/300x200/3F51B5/white?text=Shampoo" },
                { id: 82, name: "Acondicionador", unit: "750 ml", price: 42, image: "https://via.placeholder.com/300x200/673AB7/white?text=Acondicionador" },
                { id: 83, name: "Jab√≥n corporal", unit: "150 g", price: 10, image: "https://via.placeholder.com/300x200/E1F5FE/black?text=Jabon+Corporal" },
                { id: 84, name: "Pasta dental", unit: "100 ml", price: 22, image: "https://via.placeholder.com/300x200/009688/white?text=Pasta+Dental" },
                { id: 85, name: "Cepillo dental", unit: "1 pza", price: 14, image: "https://via.placeholder.com/300x200/26A69A/white?text=Cepillo+Dental" },
                { id: 86, name: "Desodorante", unit: "150 ml", price: 30, image: "https://via.placeholder.com/300x200/00ACC1/white?text=Desodorante" },
                { id: 87, name: "Toallas sanitarias", unit: "10 pzas", price: 28, image: "https://via.placeholder.com/300x200/E91E63/white?text=Toallas+Sanitarias" },
                { id: 88, name: "Gel antibacterial", unit: "500 ml", price: 28, image: "https://via.placeholder.com/300x200/4FC3F7/white?text=Gel+Antibacterial" },
                { id: 89, name: "Rastrillos", unit: "3 pzas", price: 22, image: "https://via.placeholder.com/300x200/607D8B/white?text=Rastrillos" },
                { id: 90, name: "Crema corporal", unit: "400 ml", price: 38, image: "https://via.placeholder.com/300x200/F8BBD9/black?text=Crema+Corporal" },
                { id: 91, name: "Talco para pies", unit: "200 g", price: 16, image: "https://via.placeholder.com/300x200/F5F5F5/black?text=Talco+Pies" },
                { id: 92, name: "Cotonetes", unit: "100 pzs", price: 10, image: "https://via.placeholder.com/300x200/FFFFFF/black?text=Cotonetes" },
                { id: 93, name: "Jab√≥n √≠ntimo", unit: "250 ml", price: 30, image: "https://via.placeholder.com/300x200/E1F5FE/black?text=Jabon+Intimo" },
                { id: 94, name: "Agua micelar", unit: "200 ml", price: 38, image: "https://via.placeholder.com/300x200/81C784/white?text=Agua+Micelar" }
            ],
            bebidas: [
                { id: 95, name: "Agua embotellada", unit: "1.5 L", price: 15, image: "https://via.placeholder.com/300x200/03A9F4/white?text=Agua" },
                { id: 96, name: "Agua saborizada", unit: "1.5 L", price: 18, image: "https://via.placeholder.com/300x200/4FC3F7/white?text=Agua+Saborizada" },
                { id: 97, name: "Jugos Jumex/Boing", unit: "355 ml", price: 14, image: "https://via.placeholder.com/300x200/FF9800/white?text=Jugos" },
                { id: 98, name: "Refresco Coca-Cola", unit: "600 ml", price: 18, image: "https://via.placeholder.com/300x200/F44336/white?text=Coca+Cola" },
                { id: 99, name: "Refresco retornable", unit: "2 L", price: 27, image: "https://via.placeholder.com/300x200/E91E63/white?text=Refresco+2L" },
                { id: 100, name: "Caf√© soluble", unit: "100 g", price: 42, image: "https://via.placeholder.com/300x200/5D4037/white?text=Cafe" },
                { id: 101, name: "T√© negro", unit: "25 sobres", price: 16, image: "https://via.placeholder.com/300x200/8D6E63/white?text=Te+Negro" },
                { id: 102, name: "Agua mineral", unit: "355 ml", price: 12, image: "https://via.placeholder.com/300x200/81C784/white?text=Agua+Mineral" },
                { id: 103, name: "Bebida energ√©tica", unit: "500 ml", price: 35, image: "https://via.placeholder.com/300x200/FFEB3B/black?text=Bebida+Energetica" },
                { id: 104, name: "Chocolate en polvo", unit: "250 g", price: 22, image: "https://via.placeholder.com/300x200/8D6E63/white?text=Chocolate+Polvo" },
                { id: 105, name: "Leche saborizada", unit: "250 ml", price: 10, image: "https://via.placeholder.com/300x200/F8BBD9/black?text=Leche+Saborizada" },
                { id: 106, name: "Malta o cebada", unit: "355 ml", price: 16, image: "https://via.placeholder.com/300x200/A1887F/white?text=Malta" },
                { id: 107, name: "Pulque embotellado", unit: "1 L", price: 28, image: "https://via.placeholder.com/300x200/F5F5F5/black?text=Pulque" },
                { id: 108, name: "Atole instant√°neo", unit: "50 g", price: 10, image: "https://via.placeholder.com/300x200/FFCC02/black?text=Atole" },
                { id: 109, name: "Bebidas hidratantes", unit: "500 ml", price: 20, image: "https://via.placeholder.com/300x200/03A9F4/white?text=Bebida+Hidratante" }
            ],
            snacks: [
                { id: 110, name: "Papas fritas grandes", unit: "170 g", price: 35, image: "https://via.placeholder.com/300x200/FF9800/white?text=Papas+Grandes" },
                { id: 111, name: "Papas fritas chicas", unit: "45 g", price: 15, image: "https://via.placeholder.com/300x200/FFB74D/black?text=Papas+Chicas" },
                { id: 112, name: "Galletas Mar√≠as", unit: "170 g", price: 15, image: "https://via.placeholder.com/300x200/F5F5F5/black?text=Galletas+Marias" },
                { id: 113, name: "Galletas Oreo", unit: "117 g", price: 18, image: "https://via.placeholder.com/300x200/212121/white?text=Galletas+Oreo" },
                { id: 114, name: "Chocolate Carlos V", unit: "20 g", price: 10, image: "https://via.placeholder.com/300x200/8D6E63/white?text=Carlos+V" },
                { id: 115, name: "Chocolates surtidos", unit: "180 g", price: 35, image: "https://via.placeholder.com/300x200/5D4037/white?text=Chocolates+Surtidos" },
                { id: 116, name: "Palomitas microondas", unit: "85 g", price: 16, image: "https://via.placeholder.com/300x200/FFEB3B/black?text=Palomitas" },
                { id: 117, name: "Cacahuates salados", unit: "150 g", price: 22, image: "https://via.placeholder.com/300x200/D7CCC8/black?text=Cacahuates+Salados" },
                { id: 118, name: "Cacahuates enchilados", unit: "150 g", price: 24, image: "https://via.placeholder.com/300x200/F44336/white?text=Cacahuates+Enchilados" },
                { id: 119, name: "Mazap√°n", unit: "30 g", price: 6, image: "https://via.placeholder.com/300x200/FFB74D/black?text=Mazapan" },
                { id: 120, name: "Rollo de tamarindo", unit: "40 g", price: 8, image: "https://via.placeholder.com/300x200/8D6E63/white?text=Tamarindo" },
                { id: 121, name: "Galletas emperador", unit: "126 g", price: 16, image: "https://via.placeholder.com/300x200/FFCC02/black?text=Emperador" },
                { id: 122, name: "Barras de granola", unit: "6 pzas", price: 30, image: "https://via.placeholder.com/300x200/8BC34A/white?text=Granola" },
                { id: 123, name: "Nuez/almendra mixta", unit: "100 g", price: 35, image: "https://via.placeholder.com/300x200/A1887F/white?text=Nueces+Mixtas" },
                { id: 124, name: "Galletas saladas", unit: "150 g", price: 17, image: "https://via.placeholder.com/300x200/FFC107/black?text=Galletas+Saladas" }
            ],
            promociones: [
                { id: 125, name: "Combo Arroz + Frijol", unit: "Combo", price: 45, image: "https://via.placeholder.com/300x200/4CAF50/white?text=Combo+Arroz+Frijol" },
                { id: 126, name: "2x1 en refrescos chicos", unit: "Promoci√≥n", price: 18, image: "https://via.placeholder.com/300x200/F44336/white?text=2x1+Refrescos" },
                { id: 127, name: "3x2 en galletas Mar√≠as", unit: "Promoci√≥n", price: 30, image: "https://via.placeholder.com/300x200/F5F5F5/black?text=3x2+Marias" },
                { id: 128, name: "2 yogures + 1 gratis", unit: "Promoci√≥n", price: 24, image: "https://via.placeholder.com/300x200/E91E63/white?text=2+1+Yogures" },
                { id: 129, name: "Descuento en caf√© + leche", unit: "Promoci√≥n", price: 60, image: "https://via.placeholder.com/300x200/5D4037/white?text=Cafe+Leche" },
                { id: 130, name: "Pack escolar (cuaderno + l√°pices)", unit: "Pack", price: 30, image: "https://via.placeholder.com/300x200/2196F3/white?text=Pack+Escolar" },
                { id: 131, name: "3 jabones por $25", unit: "Promoci√≥n", price: 25, image: "https://via.placeholder.com/300x200/4CAF50/white?text=3+Jabones" },
                { id: 132, name: "Kit higiene (shampoo + pasta)", unit: "Kit", price: 55, image: "https://via.placeholder.com/300x200/3F51B5/white?text=Kit+Higiene" },
                { id: 133, name: "2 desodorantes por $50", unit: "Promoci√≥n", price: 50, image: "https://via.placeholder.com/300x200/00ACC1/white?text=2+Desodorantes" },
                { id: 134, name: "Combo pan dulce surtido 4x3", unit: "Promoci√≥n", price: 21, image: "https://via.placeholder.com/300x200/FF8A65/white?text=4x3+Pan+Dulce" },
                { id: 135, name: "Detergente con esponja gratis", unit: "Promoci√≥n", price: 38, image: "https://via.placeholder.com/300x200/2196F3/white?text=Detergente+Esponja" },
                { id: 136, name: "Refresco + papas combo", unit: "Combo", price: 25, image: "https://via.placeholder.com/300x200/FF5722/white?text=Refresco+Papas" }
            ],
            escolares: [
                { id: 137, name: "Cuaderno rayado", unit: "100 hojas", price: 20, image: "https://via.placeholder.com/300x200/2196F3/white?text=Cuaderno+Rayado" },
                { id: 138, name: "Cuaderno profesional", unit: "200 hojas", price: 35, image: "https://via.placeholder.com/300x200/3F51B5/white?text=Cuaderno+Profesional" },
                { id: 139, name: "L√°pices", unit: "6 pzas", price: 15, image: "https://via.placeholder.com/300x200/FFC107/black?text=Lapices" },
                { id: 140, name: "Bol√≠grafo azul", unit: "1 pieza", price: 6, image: "https://via.placeholder.com/300x200/1976D2/white?text=Boligrafo" },
                { id: 141, name: "Plumones", unit: "6 pzas", price: 30, image: "https://via.placeholder.com/300x200/E91E63/white?text=Plumones" },
                { id: 142, name: "Colores de madera", unit: "12 pzas", price: 35, image: "https://via.placeholder.com/300x200/4CAF50/white?text=Colores" },
                { id: 143, name: "Marcatextos", unit: "3 pzas", price: 18, image: "https://via.placeholder.com/300x200/FFEB3B/black?text=Marcatextos" },
                { id: 144, name: "Goma de borrar", unit: "1 pieza", price: 5, image: "https://via.placeholder.com/300x200/F8BBD9/black?text=Goma" },
                { id: 145, name: "Sacapuntas", unit: "1 pieza", price: 6, image: "https://via.placeholder.com/300x200/9E9E9E/white?text=Sacapuntas" },
                { id: 146, name: "Regla de 30 cm", unit: "1 pieza", price: 10, image: "https://via.placeholder.com/300x200/607D8B/white?text=Regla" },
                { id: 147, name: "Tijeras escolares", unit: "1 pieza", price: 18, image: "https://via.placeholder.com/300x200/FF5722/white?text=Tijeras" },
                { id: 148, name: "Pegamento en barra", unit: "1 pieza", price: 10, image: "https://via.placeholder.com/300x200/9C27B0/white?text=Pegamento" },
                { id: 149, name: "Libreta de tareas", unit: "1 pza", price: 15, image: "https://via.placeholder.com/300x200/009688/white?text=Libreta+Tareas" },
                { id: 150, name: "Carpeta con broche", unit: "1 pza", price: 18, image: "https://via.placeholder.com/300x200/795548/white?text=Carpeta" },
                { id: 151, name: "Juego de geometr√≠a", unit: "1 set", price: 25, image: "https://via.placeholder.com/300x200/424242/white?text=Geometria" }
            ]
        };

        // Cart functionality
        let cart = [];
        let currentCategory = 'all';

        // Load all products initially
        function loadProducts() {
            displayProducts();
            updateCartCount();
        }

        // Display products based on current category
        function displayProducts() {
            const grid = document.getElementById('productsGrid');
            grid.innerHTML = '';
            
            let productsToShow = [];
            
            if (currentCategory === 'all') {
                // Show all products
                Object.values(products).forEach(categoryProducts => {
                    productsToShow = productsToShow.concat(categoryProducts);
                });
            } else {
                // Show products from specific category
                productsToShow = products[currentCategory] || [];
            }
            
            productsToShow.forEach(product => {
                const productCard = createProductCard(product);
                grid.appendChild(productCard);
            });
        }

        // Create product card HTML
        function createProductCard(product) {
            const card = document.createElement('div');
            card.className = 'product-card';
            card.innerHTML = `
                <img src="${product.image}" alt="${product.name}" class="product-image" onerror="this.src='https://via.placeholder.com/300x200/9E9E9E/white?text=Producto'">
                <div class="product-name">${product.name}</div>
                <div class="product-unit">${product.unit}</div>
                <div class="product-price">${product.price}</div>
                <button class="add-to-cart" onclick="addToCart(${product.id})">
                    Agregar al carrito
                </button>
            `;
            return card;
        }

        // Show category function
        function showCategory(category, element) {
            currentCategory = category;
            
            // Update active nav item
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });
            if (element) {
                element.classList.add('active');
            }
            
            // Update section title
            const titleMap = {
                'all': 'Todos los Productos',
                'abarrotes': 'Abarrotes B√°sicos',
                'lacteos': 'L√°cteos y Refrigerados',
                'panaderia': 'Panader√≠a y Tortiller√≠a',
                'carnes': 'Carnes Fr√≠as y Embutidos',
                'limpieza': 'Limpieza del Hogar',
                'higiene': 'Higiene Personal',
                'bebidas': 'Bebidas',
                'snacks': 'Snacks y Botanas',
                'promociones': 'Productos en Promoci√≥n',
                'escolares': 'Art√≠culos Escolares y Oficina'
            };
            
            document.getElementById('sectionTitle').textContent = titleMap[category];
            
            // Hide categories grid if not on home
            const categoriesGrid = document.getElementById('categoriesGrid');
            if (category === 'all') {
                categoriesGrid.style.display = 'grid';
            } else {
                categoriesGrid.style.display = 'none';
            }
            
            displayProducts();
        }

        // Add to cart function
        function addToCart(productId) {
            const product = findProductById(productId);
            if (!product) return;
            
            const existingItem = cart.find(item => item.id === productId);
            
            if (existingItem) {
                existingItem.quantity += 1;
            } else {
                cart.push({
                    id: productId,
                    name: product.name,
                    price: product.price,
                    unit: product.unit,
                    quantity: 1
                });
            }
            
            updateCartCount();
            
            // Show success animation - Find the button that was clicked
            const allButtons = document.querySelectorAll('.add-to-cart');
            for (let button of allButtons) {
                if (button.onclick && button.onclick.toString().includes(productId)) {
                    const originalText = button.textContent;
                    button.textContent = '‚úì Agregado';
                    button.style.background = '#2ecc71';
                    
                    setTimeout(() => {
                        button.textContent = originalText;
                        button.style.background = '';
                    }, 1000);
                    break;
                }
            }
        }

        // Find product by ID
        function findProductById(id) {
            for (let category in products) {
                const product = products[category].find(p => p.id === id);
                if (product) return product;
            }
            return null;
        }

        // Update cart count
        function updateCartCount() {
            const count = cart.reduce((sum, item) => sum + item.quantity, 0);
            document.getElementById('cartCount').textContent = count;
        }

        // Open cart modal
        function openCart() {
            document.getElementById('cartModal').style.display = 'block';
            displayCartItems();
        }

        // Close cart modal
        function closeCart() {
            document.getElementById('cartModal').style.display = 'none';
        }

        // Display cart items
        function displayCartItems() {
            const cartItems = document.getElementById('cartItems');
            cartItems.innerHTML = '';
            
            if (cart.length === 0) {
                cartItems.innerHTML = '<p style="text-align: center; color: #666;">Tu carrito est√° vac√≠o</p>';
                document.getElementById('cartTotal').textContent = 'Total: $0';
                return;
            }
            
            let total = 0;
            
            cart.forEach(item => {
                const itemTotal = item.price * item.quantity;
                total += itemTotal;
                
                const cartItem = document.createElement('div');
                cartItem.className = 'cart-item';
                cartItem.innerHTML = `
                    <div class="cart-item-info">
                        <div class="cart-item-name">${item.name}</div>
                        <div class="cart-item-unit">${item.unit}</div>
                        <div class="cart-item-price">${item.price} c/u</div>
                    </div>
                    <div class="cart-item-controls">
                        <button class="quantity-btn" onclick="updateQuantity(${item.id}, -1)">-</button>
                        <span class="quantity">${item.quantity}</span>
                        <button class="quantity-btn" onclick="updateQuantity(${item.id}, 1)">+</button>
                        <div style="margin-left: 10px; font-weight: bold;">${itemTotal}</div>
                    </div>
                `;
                cartItems.appendChild(cartItem);
            });
            
            document.getElementById('cartTotal').textContent = `Total: ${total}`;
        }

        // Update quantity
        function updateQuantity(productId, change) {
            const item = cart.find(item => item.id === productId);
            if (!item) return;
            
            item.quantity += change;
            
            if (item.quantity <= 0) {
                cart = cart.filter(item => item.id !== productId);
            }
            
            updateCartCount();
            displayCartItems();
        }

        // Search products
        function searchProducts() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            if (!searchTerm) {
                displayProducts();
                return;
            }
            
            const grid = document.getElementById('productsGrid');
            grid.innerHTML = '';
            
            let foundProducts = [];
            
            // Search in all categories
            Object.values(products).forEach(categoryProducts => {
                categoryProducts.forEach(product => {
                    if (product.name.toLowerCase().includes(searchTerm)) {
                        foundProducts.push(product);
                    }
                });
            });
            
            if (foundProducts.length === 0) {
                grid.innerHTML = '<p style="text-align: center; color: #666; grid-column: 1 / -1;">No se encontraron productos</p>';
                return;
            }
            
            foundProducts.forEach(product => {
                const productCard = createProductCard(product);
                grid.appendChild(productCard);
            });
            
            document.getElementById('sectionTitle').textContent = `Resultados para "${searchTerm}"`;
        }

        // Enter key search
        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById('searchInput').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    searchProducts();
                }
            });
        });

        // Checkout function
        function checkout() {
            if (cart.length === 0) {
                alert('Tu carrito est√° vac√≠o');
                return;
            }
            
            const total = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            const shippingFee = total >= 300 ? 0 : 50;
            const finalTotal = total + shippingFee;
            
            let message = '¬°Gracias por tu compra!\n\n';
            message += 'üì¶ RESUMEN DE PEDIDO:\n';
            message += '------------------------\n';
            
            cart.forEach(item => {
                message += `${item.name} (${item.unit})\n`;
                message += `Cantidad: ${item.quantity} x ${item.price} = ${item.price * item.quantity}\n\n`;
            });
            
            message += `Subtotal: ${total}\n`;
            message += `Env√≠o: ${shippingFee}\n`;
            message += `TOTAL: ${finalTotal}\n\n`;
            message += 'üöö Tiempo de entrega: 30-45 minutos\n';
            message += 'üí≥ M√©todos de pago: Efectivo, Transferencia, Tarjeta\n';
            message += 'üìû Te contactaremos para confirmar tu pedido';
            
            alert(message);
            
            // Clear cart
            cart = [];
            updateCartCount();
            closeCart();
        }

        // WhatsApp order
        function orderWhatsApp() {
            if (cart.length === 0) {
                alert('Tu carrito est√° vac√≠o. Agrega productos antes de ordenar por WhatsApp');
                return;
            }
            
            const total = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            const shippingFee = total >= 300 ? 0 : 50;
            const finalTotal = total + shippingFee;
            
            let message = 'üõí *PEDIDO - TU ESQUINA ECON√ìMICA*\n\n';
            message += 'üìã *MI PEDIDO:*\n';
            message += '------------------------\n';
            
            cart.forEach(item => {
                message += `‚Ä¢ ${item.name} (${item.unit})\n`;
                message += `  Cantidad: ${item.quantity} x ${item.price} = ${item.price * item.quantity}\n\n`;
            });
            
            message += `üí∞ *Subtotal:* ${total}\n`;
            message += `üöö *Env√≠o:* ${shippingFee}\n`;
            message += `üíµ *TOTAL:* ${finalTotal}\n\n`;
            message += 'üìç *Direcci√≥n de entrega:* _Por favor proporcionar_\n';
            message += 'üìû *Tel√©fono de contacto:* _Por favor proporcionar_\n';
            message += 'üí≥ *M√©todo de pago preferido:* _Efectivo/Transferencia/Tarjeta_\n\n';
            message += '¬°Gracias por elegir Tu Esquina Econ√≥mica! üôè';
            
            const whatsappUrl = `https://wa.me/522221234567?text=${encodeURIComponent(message)}`;
            window.open(whatsappUrl, '_blank');
        }

        // Close modal when clicking outside
        window.addEventListener('click', function(event) {
            const modal = document.getElementById('cartModal');
            if (event.target === modal) {
                closeCart();
            }
        });

        // Initialize the app
        document.addEventListener('DOMContentLoaded', function() {
            loadProducts();
        });
    </script>
</body>
</html>